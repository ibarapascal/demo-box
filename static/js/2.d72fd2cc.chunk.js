(this["webpackJsonpdemo-box"]=this["webpackJsonpdemo-box"]||[]).push([[2],{156:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return s}));var r=t(157),o=t(0),a=t(139),c=Object(a.a)((function(e){return{contentRoot:{width:"100%",padding:20,overflowY:"scroll","&::-webkit-scrollbar":{width:3},"&::-webkit-scrollbar-track":{background:"#FF8E53"},"&::-webkit-scrollbar-thumb":{background:"linear-gradient(45deg, #F50057 10%, #FF8E53 90%)"},"& iframe":{border:"1px solid #DDDDDD !important",borderLeft:"2px solid #FF8E53 !important",marginTop:"1em",marginBottom:"1em"}},markdownPre:{border:"1px solid #DDDDDD",borderLeft:"2px solid #FF8E53"}}})),i=function(e){var n=e.children,t=c();return function(e){var n=document.createElement("script");n.async=!1,n.src=e,document.getElementsByTagName("body")[0].appendChild(n)}("https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"),o.createElement("div",{className:"".concat(t.contentRoot," markdown-body")},n)},s=function(e){var n=e.path,t=c();return o.createElement(r.a,{options:{overrides:{pre:{component:"",props:{className:"".concat(t.markdownPre)}},iframe:{component:"",props:{className:"".concat(t.markdownPre)}},code:{component:"",props:{className:"prettyprint"}}}}},n)}},157:function(e,n,t){"use strict";t.d(n,"a",(function(){return Ue}));var r=t(0),o=t.n(r),a=t(158),c=t.n(a),i=Object.assign||function(e){for(var n,t=1;t<arguments.length;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var l={accesskey:"accessKey",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",for:"htmlFor",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"},d={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xa0",quot:"\u201c"},u=["style","script"],p=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,m=/mailto:/i,h=/\n{2,}$/,f=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,g=/^ *> ?/gm,y=/^ {2,}\n/,b=/^(?:( *[-*_]) *){3,}(?:\n *)+\n/,k=/^\s*(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n?/,w=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,v=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,x=/^(?:\n *)*\n/,C=/\r\n?/g,S=/^\[\^([^\]]+)](:.*)\n/,T=/^\[\^([^\]]+)]/,D=/\f/g,A=/^\s*?\[(x|\s)\]/,E=/^ *(#{1,6}) *([^\n]+)\n{0,2}/,O=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,j=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,P=/&([a-z]+);/g,R=/^<!--.*?-->/,z=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,$=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,F=/^\{.*\}$/,I=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,L=/^<([^ >]+@[^ >]+)>/,U=/^<([^ >]+:\/[^ >]+)>/,B=/ *\n+$/,N=/(?:^|\n)( *)$/,_=/-([a-z])?/gi,M=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,q=/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/,W=/^\[([^\]]*)\]:\s*(\S+)\s*("([^"]*)")?/,G=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Z=/^\[([^\]]*)\] ?\[([^\]]*)\]/,V=/(\[|\])/g,H=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Y=/\t/g,J=/^ *\| */,K=/(^ *\||\| *$)/g,Q=/ *$/,X=/^ *:-+: *$/,ee=/^ *:-+ *$/,ne=/^ *-+: *$/,te=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,re=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1)/,oe=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,ae=/^\\([^0-9A-Za-z\s])/,ce=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,ie=/(^\n+|\n+$|\s+$)/g,se=/^([ \t]*)/,le=/\\([^0-9A-Z\s])/gi,de=/^( *)((?:[*+-]|\d+\.)) +/,ue=/( *)((?:[*+-]|\d+\.)) +[^\n]*(?:\n(?!\1(?:[*+-]|\d+\.) )[^\n]*)*(\n|$)/gm,pe=/^( *)((?:[*+-]|\d+\.)) [\s\S]+?(?:\n{2,}(?! )(?!\1(?:[*+-]|\d+\.) (?!(?:[*+-]|\d+\.) ))\n*|\s*\n*$)/,me=/^\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?((?:[^\s\\]|\\.)*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/,he=/^!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?((?:[^\s\\]|\\.)*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/,fe=[f,w,k,E,O,j,R,$,ue,pe,M,q];function ge(e){return e.replace(/[\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xc6]/g,"a").replace(/[\xe7\xc7]/g,"c").replace(/[\xf0\xd0]/g,"d").replace(/[\xc8\xc9\xca\xcb\xe9\xe8\xea\xeb]/g,"e").replace(/[\xcf\xef\xce\xee\xcd\xed\xcc\xec]/g,"i").replace(/[\xd1\xf1]/g,"n").replace(/[\xf8\xd8\u0153\u0152\xd5\xf5\xd4\xf4\xd3\xf3\xd2\xf2]/g,"o").replace(/[\xdc\xfc\xdb\xfb\xda\xfa\xd9\xf9]/g,"u").replace(/[\u0178\xff\xdd\xfd]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function ye(e){return ne.test(e)?"right":X.test(e)?"center":ee.test(e)?"left":null}function be(e,n,t){var r=t.inTable;t.inTable=!0;var o=n(e.trim(),t);t.inTable=r;var a=[[]];return o.forEach((function(e,n){"tableSeparator"===e.type?0!==n&&n!==o.length-1&&a.push([]):("text"===e.type&&(null==o[n+1]||"tableSeparator"===o[n+1].type)&&(e.content=e.content.replace(Q,"")),a[a.length-1].push(e))})),a}function ke(e,n,t){t.inline=!0;var r=be(e[1],n,t),o=function(e){return e.replace(K,"").split("|").map(ye)}(e[2]),a=function(e,n,t){return e.trim().split("\n").map((function(e){return be(e,n,t)}))}(e[3],n,t);return t.inline=!1,{align:o,cells:a,header:r,type:"table"}}function we(e,n){return null==e.align[n]?{}:{textAlign:e.align[n]}}function ve(e){function n(r,o){for(var a=[],c="";r;)for(var i=0;i<t.length;){var s=t[i],l=e[s],d=l.match(r,o,c);if(d){var u=d[0];r=r.substring(u.length);var p=l.parse(d,n,o);null==p.type&&(p.type=s),a.push(p),c=u;break}i++}return a}var t=Object.keys(e);return t.sort((function(n,t){var r=e[n].order,o=e[t].order;return r===o?n<t?-1:1:r-o})),function(e,t){return n(function(e){return e.replace(C,"\n").replace(D,"").replace(Y,"    ")}(e),t)}}function xe(e){return function(n,t){return t.inline?e.exec(n):null}}function Ce(e){return function(n,t){return t.inline||t.simple?e.exec(n):null}}function Se(e){return function(n,t){return t.inline||t.simple?null:e.exec(n)}}function Te(e){return function(n){return e.exec(n)}}function De(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data):/i))return null}catch(n){return null}return e}function Ae(e){return e.replace(le,"$1")}function Ee(e,n,t){var r=t.inline||!1,o=t.simple||!1;t.inline=!0,t.simple=!0;var a=e(n,t);return t.inline=r,t.simple=o,a}function Oe(e,n,t){var r=t.inline||!1,o=t.simple||!1;t.inline=!1,t.simple=!0;var a=e(n,t);return t.inline=r,t.simple=o,a}function je(e,n,t){return t.inline=!1,e(n+"\n\n",t)}function Pe(e,n,t){return{content:Ee(n,e[1],t)}}function Re(){return{}}function ze(){return null}function $e(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}function Fe(e,n,t){for(var r=e,o=n.split(".");o.length&&void 0!==(r=r[o[0]]);)o.shift();return r||t}function Ie(e,n){var t=Fe(n,e);return t?"function"==typeof t||"object"===("undefined"==typeof t?"undefined":s(t))&&"render"in t?t:Fe(n,e+".component",e):e}function Le(e,n){function t(e,t){for(var r=Fe(n.overrides,e+".props",{}),o=arguments.length,a=Array(o>2?o-2:0),c=2;c<o;c++)a[c-2]=arguments[c];return s.apply(void 0,[Ie(e,n.overrides),i({},t,r,{className:$e(t&&t.className,r.className)||void 0})].concat(a))}function r(e){var r=!1;n.forceInline?r=!0:!n.forceBlock&&(r=!1===H.test(e));var o=Q(K(r?e:e.replace(ie,"")+"\n\n",{inline:r})),a=void 0;return o.length>1?a=t(r?"span":"div",{key:"outer"},o):1===o.length?"string"==typeof(a=o[0])&&(a=t("span",{key:"outer"},a)):a=t("span",{key:"outer"}),a}function a(e){var n=e.match(p);return n?n.reduce((function(e,n,t){var a=n.indexOf("=");if(-1!==a){var i=function(e){return-1!==e.indexOf("-")&&null===e.match(z)&&(e=e.replace(_,(function(e,n){return n.toUpperCase()}))),e}(n.slice(0,a)).trim(),s=c()(n.slice(a+1).trim()),d=l[i]||i,u=e[d]=function(e,n){return"style"===e?n.split(/;\s?/).reduce((function(e,n){var t=n.slice(0,n.indexOf(":")),r=t.replace(/(-[a-z])/g,(function(e){return e[1].toUpperCase()}));return e[r]=n.slice(t.length+1).trim(),e}),{}):"href"===e?De(n):(n.match(F)&&(n=n.slice(1,n.length-1)),"true"===n||"false"!==n&&n)}(i,s);(j.test(u)||$.test(u))&&(e[d]=o.a.cloneElement(r(u.trim()),{key:t}))}else"style"!==n&&(e[l[n]||n]=!0);return e}),{}):void 0}(n=n||{}).overrides=n.overrides||{},n.slugify=n.slugify||ge,n.namedCodesToUnicode=n.namedCodesToUnicode?i({},d,n.namedCodesToUnicode):d;var s=n.createElement||o.a.createElement;var C=[],D={},Y={blockQuote:{match:Se(f),order:2,parse:function(e,n,t){return{content:n(e[0].replace(g,""),t)}},react:function(e,n,r){return t("blockquote",{key:r.key},n(e.content,r))}},breakLine:{match:Te(y),order:2,parse:Re,react:function(e,n,r){return t("br",{key:r.key})}},breakThematic:{match:Se(b),order:2,parse:Re,react:function(e,n,r){return t("hr",{key:r.key})}},codeBlock:{match:Se(w),order:1,parse:function(e){return{content:e[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),lang:void 0}},react:function(e,n,r){return t("pre",{key:r.key},t("code",{className:e.lang?"lang-"+e.lang:""},e.content))}},codeFenced:{match:Se(k),order:1,parse:function(e){return{content:e[3],lang:e[2]||void 0,type:"codeBlock"}}},codeInline:{match:Ce(v),order:4,parse:function(e){return{content:e[2]}},react:function(e,n,r){return t("code",{key:r.key},e.content)}},footnote:{match:Se(S),order:1,parse:function(e){return C.push({footnote:e[2],identifier:e[1]}),{}},react:ze},footnoteReference:{match:xe(T),order:2,parse:function(e){return{content:e[1],target:"#"+n.slugify(e[1])}},react:function(e,n,r){return t("a",{key:r.key,href:De(e.target)},t("sup",{key:r.key},e.content))}},gfmTask:{match:xe(A),order:2,parse:function(e){return{completed:"x"===e[1].toLowerCase()}},react:function(e,n,r){return t("input",{checked:e.completed,key:r.key,readOnly:!0,type:"checkbox"})}},heading:{match:Se(E),order:2,parse:function(e,t,r){return{content:Ee(t,e[2],r),id:n.slugify(e[2]),level:e[1].length}},react:function(e,n,r){return t("h"+e.level,{id:e.id,key:r.key},n(e.content,r))}},headingSetext:{match:Se(O),order:1,parse:function(e,n,t){return{content:Ee(n,e[1],t),level:"="===e[2]?1:2,type:"heading"}}},htmlComment:{match:Te(R),order:2,parse:function(){return{}},react:ze},image:{match:Ce(he),order:2,parse:function(e){return{alt:e[1],target:Ae(e[2]),title:e[3]}},react:function(e,n,r){return t("img",{key:r.key,alt:e.alt||void 0,title:e.title||void 0,src:De(e.target)})}},link:{match:xe(me),order:4,parse:function(e,n,t){return{content:Oe(n,e[1],t),target:Ae(e[2]),title:e[3]}},react:function(e,n,r){return t("a",{key:r.key,href:De(e.target),title:e.title},n(e.content,r))}},linkAngleBraceStyleDetector:{match:xe(U),order:1,parse:function(e){return{content:[{content:e[1],type:"text"}],target:e[1],type:"link"}}},linkBareUrlDetector:{match:xe(I),order:1,parse:function(e){return{content:[{content:e[1],type:"text"}],target:e[1],title:void 0,type:"link"}}},linkMailtoDetector:{match:xe(L),order:1,parse:function(e){var n=e[1],t=e[1];return m.test(t)||(t="mailto:"+t),{content:[{content:n.replace("mailto:",""),type:"text"}],target:t,type:"link"}}},list:{match:function(e,n,t){var r=N.exec(t),o=n._list||!n.inline;return r&&o?(e=r[1]+e,pe.exec(e)):null},order:2,parse:function(e,n,t){var r=e[2],o=r.length>1,a=o?+r:void 0,c=e[0].replace(h,"\n").match(ue),i=!1;return{items:c.map((function(e,r){var o=de.exec(e)[0].length,a=new RegExp("^ {1,"+o+"}","gm"),s=e.replace(a,"").replace(de,""),l=r===c.length-1,d=-1!==s.indexOf("\n\n")||l&&i;i=d;var u,p=t.inline,m=t._list;t._list=!0,d?(t.inline=!1,u=s.replace(B,"\n\n")):(t.inline=!0,u=s.replace(B,""));var h=n(u,t);return t.inline=p,t._list=m,h})),ordered:o,start:a}},react:function(e,n,r){return t(e.ordered?"ol":"ul",{key:r.key,start:e.start},e.items.map((function(e,o){return t("li",{key:o},n(e,r))})))}},newlineCoalescer:{match:Se(x),order:4,parse:Re,react:function(){return"\n"}},paragraph:{match:Se(q),order:4,parse:Pe,react:function(e,n,r){return t("p",{key:r.key},n(e.content,r))}},ref:{match:xe(W),order:1,parse:function(e){return D[e[1]]={target:e[2],title:e[4]},{}},react:ze},refImage:{match:Ce(G),order:1,parse:function(e){return{alt:e[1]||void 0,ref:e[2]}},react:function(e,n,r){return t("img",{key:r.key,alt:e.alt,src:De(D[e.ref].target),title:D[e.ref].title})}},refLink:{match:xe(Z),order:1,parse:function(e,n,t){return{content:n(e[1],t),fallbackContent:n(e[0].replace(V,"\\$1"),t),ref:e[2]}},react:function(e,n,r){return D[e.ref]?t("a",{key:r.key,href:De(D[e.ref].target),title:D[e.ref].title},n(e.content,r)):t("span",{key:r.key},n(e.fallbackContent,r))}},table:{match:Se(M),order:2,parse:ke,react:function(e,n,r){return t("table",{key:r.key},t("thead",null,t("tr",null,e.header.map((function(o,a){return t("th",{key:a,style:we(e,a)},n(o,r))})))),t("tbody",null,e.cells.map((function(o,a){return t("tr",{key:a},o.map((function(o,a){return t("td",{key:a,style:we(e,a)},n(o,r))})))}))))}},tableSeparator:{match:function(e,n){return n.inTable?J.exec(e):null},order:2,parse:function(){return{type:"tableSeparator"}},react:function(){return" | "}},text:{match:Te(ce),order:5,parse:function(e){return{content:e[0].replace(P,(function(e,t){return n.namedCodesToUnicode[t]?n.namedCodesToUnicode[t]:e}))}},react:function(e){return e.content}},textBolded:{match:Ce(te),order:3,parse:function(e,n,t){return{content:n(e[2],t)}},react:function(e,n,r){return t("strong",{key:r.key},n(e.content,r))}},textEmphasized:{match:Ce(re),order:4,parse:function(e,n,t){return{content:n(e[2],t)}},react:function(e,n,r){return t("em",{key:r.key},n(e.content,r))}},textEscaped:{match:Ce(ae),order:2,parse:function(e){return{content:e[1],type:"text"}}},textStrikethroughed:{match:Ce(oe),order:4,parse:Pe,react:function(e,n,r){return t("del",{key:r.key},n(e.content,r))}}};!0!==n.disableParsingRawHTML&&(Y.htmlBlock={match:Te(j),order:2,parse:function(e,n,t){var r=e[3].match(se)[1],o=new RegExp("^"+r,"gm"),c=e[3].replace(o,""),i=function(e){return fe.some((function(n){return n.test(e)}))}(c)?je:Ee,s=e[1].toLowerCase(),l=-1!==u.indexOf(s);return{attrs:a(e[2]),content:l?e[3]:i(n,c,t),noInnerParse:l,tag:l?s:e[1]}},react:function(e,n,r){return t(e.tag,i({key:r.key},e.attrs),e.noInnerParse?e.content:n(e.content,r))}},Y.htmlSelfClosing={match:Te($),order:2,parse:function(e){return{attrs:a(e[2]||""),tag:e[1]}},react:function(e,n,r){return t(e.tag,i({},e.attrs,{key:r.key}))}});var K=ve(Y),Q=function(e){return function n(t,r){if(r=r||{},Array.isArray(t)){for(var o=r.key,a=[],c=!1,i=0;i<t.length;i++){r.key=i;var s=n(t[i],r),l="string"==typeof s;l&&c?a[a.length-1]+=s:a.push(s),c=l}return r.key=o,a}return e(t,n,r)}}(function(e){return function(n,t,r){return e[n.type].react(n,t,r)}}(Y)),X=r(function(e){return e.replace(/<!--[\s\S]*?(?:-->)/g,"")}(e));return C.length&&X.props.children.push(t("footer",{key:"footer"},C.map((function(e){return t("div",{id:n.slugify(e.identifier),key:e.identifier},e.identifier,Q(K(e.footnote,{inline:!0})))})))),X}function Ue(e){var n=e.children,t=e.options,r=function(e,n){var t={};for(var r in e)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(e,["children","options"]);return o.a.cloneElement(Le(n,t),r)}},158:function(e,n){var t=/[\'\"]/;e.exports=function(e){return e?(t.test(e.charAt(0))&&(e=e.substr(1)),t.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},57:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t(156);n.default=function(e){return r.createElement(o.a,e,r.createElement(o.b,{path:'# React Component Callback\r\n\r\n## Getting Started\r\n\r\n### React single-way data binding, water-fall props transport  \r\n\r\nAs everyone knows, react use single-way data binding. The props been passed from parent components to child are immutable in the child, and the update of props lead to child re-rendering.\r\n\r\nIt\'s quite straight forward since the association of the components is a tree structure, just the same as the DOM, and the single-way data binding acts as a water-fall props transportation. Initialing the local state using parent\'s props seems not the best practice and contradicts the design principle, which also leads us to a better understanding of itself that props as backbone/trunk and state as local leaves.\r\n\r\n### Component tree structure, analysis scope, root  \r\n\r\nSame as the concept of [HOC(high-order-components)](https://reactjs.org/docs/higher-order-components.html#use-hocs-for-cross-cutting-concerns), the component we build would probably be complex and nested as demand.\r\n\r\n```tsx\r\nconst Parent = () => (\r\n  <>\r\n    <SomeOtherComponent />\r\n    <Child />\r\n  </>\r\n)\r\nconst Child = () => (\r\n  {list.map(x => (\r\n    <GrandChild />\r\n  ))}\r\n)\r\nconst GrandChild = () => (\r\n  <>\r\n    Some content\r\n  </>\r\n)\r\n```\r\n\r\nSince all the elements(except the root) in a tree share the same standing, the method we analyze them is only a chosen scope of it. The inner logic could be convergence and divergence in different places, and we usually separate components based on it as well as the design demand, but it would beyond the scope of this content. All I want to mention is that the analysis of one component with its child components we would discuss later, is also suitable for the child itself.\r\n\r\n<img width="581" alt="\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2020-08-03 10 26 33" src="https://user-images.githubusercontent.com/30466424/89137666-d5043700-d573-11ea-903a-d75b1ad74dc4.png">\r\n\r\nEvery tree has a root. With [react-router-dom](https://reactrouter.com/web/guides/quick-start), it could be multiple and divided into pages. For packages, it could be the top-level APIs exposed to the user.\r\n\r\n### Controlled, uncontrolled components, callback, expose  \r\n\r\nUncontrolled components (the dotted line). [docs#uncontrolled-components](https://reactjs.org/docs/uncontrolled-components.html)\r\n\r\n>Where data is handled by the DOM itself.\r\n\r\n>With an uncontrolled component, you often want React to specify the initial value, but leave subsequent updates uncontrolled. To handle this case, you can specify a `defaultValue` attribute instead of `value`.\r\n\r\n<img width="443" alt="\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2020-08-03 10 27 51" src="https://user-images.githubusercontent.com/30466424/89137753-27455800-d574-11ea-996a-7a16beab360b.png">\r\n\r\nControlled components. [docs#controlled-components](https://reactjs.org/docs/forms.html#controlled-components)\r\n\r\n<img width="634" alt="\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2020-08-03 10 27 30" src="https://user-images.githubusercontent.com/30466424/89137752-24e2fe00-d574-11ea-9156-b8c65b427dfb.png">\r\n\r\nWe use event callback exposed by child, and outer methods to update props been passed to child inside the parent to achieve data update under single-way data binding in React.\r\n\r\nAs long as we use `value` and `callback` rather than `defaultValue` with its inner logic, we are talking about `controlled components`.\r\n\r\n## Content\r\n\r\n### callback, multiple callback\r\n\r\nThe real-world example of components often meets multiple functions or UX events which have a callback. There are two major ways to handle it.\r\n\r\nFirst, expose all the callbacks with necessary params and let the user of the component decides how to update the props data.\r\n\r\n<img width="521" alt="\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2020-08-03 10 28 03" src="https://user-images.githubusercontent.com/30466424/89137764-30cec000-d574-11ea-8ed9-b66d15a422f9.png">\r\n\r\nUse case sample\r\n\r\n```tsx\r\nconst Component = () => {\r\n  // ...\r\n  const onClickAddColumn = params => {\r\n    const newData = [...data, {...params, id: ...}]\r\n    setData(newData);\r\n  }\r\n  const onClickRemoveRow = params => {\r\n    const newData = [...data].filter(x => params.id === ...);\r\n    setData(newData);\r\n  }\r\n  return (\r\n      <YourComponent\r\n        data={data}\r\n        onClickAddColumn={onClickAddColumn}\r\n        onClickRemoveRow={onClickRemoveRow}\r\n        // ...\r\n      />\r\n    )\r\n  }\r\n)\r\n```\r\n\r\n<iframe src="https://codesandbox.io/embed/react-callback-demo2-b44xg?fontsize=14&hidenavigation=1&theme=light"\r\n  style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"\r\n  title="react-callback-demo2"\r\n  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"\r\n  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"\r\n></iframe>\r\n\r\nAnother way is only to expose callback with its params the updated props data, which means the data update logic would be implemented inside the component we built.\r\n\r\n<img width="521" alt="\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2020-08-03 10 28 13" src="https://user-images.githubusercontent.com/30466424/89137766-34624700-d574-11ea-8069-1276e753178c.png">\r\n\r\nUse case sample\r\n\r\n```tsx\r\nconst Component = () => {\r\n  // ...\r\n  const onEvent = newData => {\r\n    setData(newData);\r\n  }\r\n  return (\r\n      <YourComponent\r\n        data={data}\r\n        onEvent={onEvent}\r\n      />\r\n    )\r\n  }\r\n)\r\n```\r\n\r\n<iframe src="https://codesandbox.io/embed/react-callback-demo3-ddpv0?fontsize=14&hidenavigation=1&theme=light"\r\n  style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"\r\n  title="react-callback-demo3"\r\n  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"\r\n  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"\r\n></iframe>\r\n\r\nBasically it depends, based on the design demand or the functions of the component, there are different approaches. The scalability and the position of the component inside the tree would also be put into consideration.\r\n\r\n### Nested callback transport  \r\n\r\nAlong with the component goes more and more complex, the scope of our component may include nested components with multiple levels and complex props/callbacks. Although there are solutions like `spread syntax` in js and its usage in React [docs#spread-attributes](https://reactjs.org/docs/jsx-in-depth.html#spread-attributes), it\'s still quite inconvenient in some situations like multiple child components with props and their own child.\r\n\r\n<img width="598" alt="\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2020-08-03 10 28 23" src="https://user-images.githubusercontent.com/30466424/89137777-3c21eb80-d574-11ea-93d6-49cfc194bce1.png">\r\n\r\n```tsx\r\nconst Parent = parentProps => {\r\n  // It\'s not allowed to use two or more `...` here for multiple child components.\r\n  const {p1, p2, ...childProps} = parentProps;\r\n  return (\r\n    <>\r\n      <SomeOtherComponent />\r\n      <ChildOne {...childProps} cp1={...}/>\r\n      <ChildTwo {...}/>\r\n    </>\r\n  )\r\n}\r\n```\r\n\r\nAnd it\'s not appropriate because for callbacks we barely touch them except in the place of their native event. We want some methods that could handle the direct `goto` for our callbacks.\r\n\r\n### lifting-up, context\r\n\r\nLifting-up callbacks. [docs#lifting-state-up](https://reactjs.org/docs/lifting-state-up.html)\r\n\r\n>Often, several components need to reflect the same changing data. We recommend lifting the shared state up to their closest common ancestor.\r\n\r\nTo orgnize components code by design as demand, based on the natural convergence of component\'s body as well as their relationship, we can lift up not only the common state but also callbacks that from different child components in multiple places and levels, by using `React.context` [docs#context](https://reactjs.org/docs/context.html)  \r\n\r\n<img width="598" alt="\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2020-08-03 10 28 32" src="https://user-images.githubusercontent.com/30466424/89137787-417f3600-d574-11ea-9d46-e3f8fd56d05c.png">\r\n\r\n<iframe src="https://codesandbox.io/embed/react-callback-demo5-t8090?fontsize=14&hidenavigation=1&theme=light"\r\n  style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"\r\n  title="react-callback-demo5"\r\n  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"\r\n  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"\r\n></iframe>\r\n\r\nThe nesting analysis scope won\'t bother since we can nesting the local provider in the tree(subtree). [docs#contextprovider](https://reactjs.org/docs/context.html#contextprovider)\r\n\r\n>Providers can be nested to override values deeper within the tree.\r\n\r\n### Summary\r\n\r\n<img width="906" alt="\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2020-08-03 10 28 44" src="https://user-images.githubusercontent.com/30466424/89137793-47751700-d574-11ea-90e4-69e2067ca93f.png">\r\n\r\nFor complex components design, we could:\r\n\r\n- only expose needed callback method/logic corresponding to design demand like `redux actions` or `APIs documentation` based on real implementation requests.\r\n\r\n- use `React.context` to distribute callbacks across the current component scope in multiple ways with customizable exposed params.\r\n'}))}}}]);
//# sourceMappingURL=2.d72fd2cc.chunk.js.map